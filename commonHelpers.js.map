{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export class PixabayApi {\n  constructor() {\n    this.BASE_URL = 'https://pixabay.com/api/';\n    this.API_KEY = '42308857-af265c382d366c65500552078';\n  }\n\n  getImages(userQuery) {\n    const searchParams = new URLSearchParams({\n      key: this.API_KEY,\n      q: userQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n    const url = `${this.BASE_URL}?${searchParams}`;\n\n    return fetch(url).then(res => res.json());\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nfunction templateCard({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `      \n      <li class=\"card\">\n        <a href =\"${largeImageURL}\">\n        <img class=\"card-img\" src=\"${webformatURL}\" alt=\"${tags}\" >\n        <ul class=\"card-data\">\n          <li><h3>Likes</h3><p>${likes}</p></li>\n          <li><h3>Views</h3><p>${views}</p></li>\n          <li><h3>Comments</h3><p>${comments}</p></li>\n          <li><h3>Downloads</h3><p>${downloads}</p></li>\n        </ul>\n      </li>`;\n}\n\nfunction templateCards(images) {\n  return images.map(templateCard).join('');\n}\n\nexport function renderCards(images) {\n  gallery.innerHTML = templateCards(images);\n  lightbox.refresh();\n}\n","import { PixabayApi } from './js/pixabay-api';\nimport { renderCards } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst pixabayApi = new PixabayApi();\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onSearchSubmit);\n\nfunction onSearchSubmit(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  toggleLoader();\n\n  pixabayApi\n    .getImages(event.target.query.value)\n    .then(data => {\n      const images = data.hits;\n      if (!images.length) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      renderCards(images);\n    })\n    .catch(error => showError(error))\n    .finally(toggleLoader);\n\n  event.target.reset();\n}\n\nfunction showError(error) {\n  iziToast.error({\n    pauseOnHover: false,\n    position: 'topRight',\n    message: error.message,\n  });\n}\n\nfunction toggleLoader() {\n  loader.classList.toggle('hidden');\n}\n"],"names":["PixabayApi","userQuery","searchParams","url","res","gallery","lightbox","SimpleLightbox","templateCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","templateCards","images","renderCards","pixabayApi","form","loader","onSearchSubmit","event","toggleLoader","data","error","showError","iziToast"],"mappings":"6vBAAO,MAAMA,CAAW,CACtB,aAAc,CACZ,KAAK,SAAW,2BAChB,KAAK,QAAU,oCAChB,CAED,UAAUC,EAAW,CACnB,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,KAAK,QACV,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EACKE,EAAM,GAAG,KAAK,QAAQ,IAAID,CAAY,GAE5C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CACzC,CACH,CCfA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEhD,SAASC,EAAa,CACpB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,oBAEWL,CAAa;AAAA,qCACID,CAAY,UAAUE,CAAI;AAAA;AAAA,iCAE9BC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA,YAG9C,CAEA,SAASC,EAAcC,EAAQ,CAC7B,OAAOA,EAAO,IAAIT,CAAY,EAAE,KAAK,EAAE,CACzC,CAEO,SAASU,EAAYD,EAAQ,CAClCZ,EAAQ,UAAYW,EAAcC,CAAM,EACxCX,EAAS,QAAO,CAClB,CC9BA,MAAMa,EAAa,IAAInB,EACjBoB,EAAO,SAAS,cAAc,cAAc,EAC5Cf,EAAU,SAAS,cAAc,UAAU,EAC3CgB,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAc,EAE9C,SAASA,EAAeC,EAAO,CAC7BA,EAAM,eAAc,EACpBlB,EAAQ,UAAY,GACpBmB,IAEAL,EACG,UAAUI,EAAM,OAAO,MAAM,KAAK,EAClC,KAAKE,GAAQ,CACZ,MAAMR,EAASQ,EAAK,KACpB,GAAI,CAACR,EAAO,OACV,MAAM,IAAI,MACR,0EACV,EAEMC,EAAYD,CAAM,CACxB,CAAK,EACA,MAAMS,GAASC,EAAUD,CAAK,CAAC,EAC/B,QAAQF,CAAY,EAEvBD,EAAM,OAAO,OACf,CAEA,SAASI,EAAUD,EAAO,CACxBE,EAAS,MAAM,CACb,aAAc,GACd,SAAU,WACV,QAASF,EAAM,OACnB,CAAG,CACH,CAEA,SAASF,GAAe,CACtBH,EAAO,UAAU,OAAO,QAAQ,CAClC"}